+ source activate vilbert
++ _CONDA_ROOT=/nethome/halamri3/anaconda_3
++ . /nethome/halamri3/anaconda_3/etc/profile.d/conda.sh
+++ export CONDA_EXE=/nethome/halamri3/anaconda_3/bin/conda
+++ CONDA_EXE=/nethome/halamri3/anaconda_3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/nethome/halamri3/anaconda_3/bin/python
+++ CONDA_PYTHON_EXE=/nethome/halamri3/anaconda_3/bin/python
+++ '[' -z x ']'
++ conda activate vilbert
++ '[' 2 -lt 1 ']'
++ local cmd=activate
++ shift
++ case "$cmd" in
++ __conda_activate activate vilbert
++ '[' -n '' ']'
++ local cmd=activate
++ shift
++ local ask_conda
++ OLDPATH=/nethome/halamri3/anaconda_3/bin:/nethome/halamri3/anaconda_3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games
++ __add_sys_prefix_to_path
++ '[' -n '' ']'
+++ dirname /nethome/halamri3/anaconda_3/bin/conda
++ SYSP=/nethome/halamri3/anaconda_3/bin
+++ dirname /nethome/halamri3/anaconda_3/bin
++ SYSP=/nethome/halamri3/anaconda_3
++ '[' -n '' ']'
++ PATH=/nethome/halamri3/anaconda_3/bin:/nethome/halamri3/anaconda_3/bin:/nethome/halamri3/anaconda_3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games
++ export PATH
+++ PS1=
+++ /nethome/halamri3/anaconda_3/bin/conda shell.posix activate vilbert
++ ask_conda='PS1='\''(vilbert) '\''
export PATH='\''/nethome/halamri3/anaconda_3/envs/vilbert/bin:/nethome/halamri3/anaconda_3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games'\''
export CONDA_PREFIX='\''/nethome/halamri3/anaconda_3/envs/vilbert'\''
export CONDA_SHLVL='\''2'\''
export CONDA_DEFAULT_ENV='\''vilbert'\''
export CONDA_PROMPT_MODIFIER='\''(vilbert) '\''
export CONDA_EXE='\''/nethome/halamri3/anaconda_3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/nethome/halamri3/anaconda_3/bin/python'\''
export CONDA_PREFIX_1='\''/nethome/halamri3/anaconda_3'\'''
++ PATH=/nethome/halamri3/anaconda_3/bin:/nethome/halamri3/anaconda_3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games
++ eval 'PS1='\''(vilbert) '\''
export PATH='\''/nethome/halamri3/anaconda_3/envs/vilbert/bin:/nethome/halamri3/anaconda_3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games'\''
export CONDA_PREFIX='\''/nethome/halamri3/anaconda_3/envs/vilbert'\''
export CONDA_SHLVL='\''2'\''
export CONDA_DEFAULT_ENV='\''vilbert'\''
export CONDA_PROMPT_MODIFIER='\''(vilbert) '\''
export CONDA_EXE='\''/nethome/halamri3/anaconda_3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/nethome/halamri3/anaconda_3/bin/python'\''
export CONDA_PREFIX_1='\''/nethome/halamri3/anaconda_3'\'''
+++ PS1='(vilbert) '
+++ export PATH=/nethome/halamri3/anaconda_3/envs/vilbert/bin:/nethome/halamri3/anaconda_3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games
+++ PATH=/nethome/halamri3/anaconda_3/envs/vilbert/bin:/nethome/halamri3/anaconda_3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games
+++ export CONDA_PREFIX=/nethome/halamri3/anaconda_3/envs/vilbert
+++ CONDA_PREFIX=/nethome/halamri3/anaconda_3/envs/vilbert
+++ export CONDA_SHLVL=2
+++ CONDA_SHLVL=2
+++ export CONDA_DEFAULT_ENV=vilbert
+++ CONDA_DEFAULT_ENV=vilbert
+++ export 'CONDA_PROMPT_MODIFIER=(vilbert) '
+++ CONDA_PROMPT_MODIFIER='(vilbert) '
+++ export CONDA_EXE=/nethome/halamri3/anaconda_3/bin/conda
+++ CONDA_EXE=/nethome/halamri3/anaconda_3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/nethome/halamri3/anaconda_3/bin/python
+++ CONDA_PYTHON_EXE=/nethome/halamri3/anaconda_3/bin/python
+++ export CONDA_PREFIX_1=/nethome/halamri3/anaconda_3
+++ CONDA_PREFIX_1=/nethome/halamri3/anaconda_3
++ __conda_hashr
++ '[' -n '' ']'
++ '[' -n '' ']'
++ hash -r
+ python train_language_only_baseline.py -enable_visdom 1 -visdom_server http://asimo.cc.gatech.edu -visdom_server_port 7676 -batch_size 128 -lr 4e-05 -image_lr 2e-05 -batch_multiply 1 -num_options 100 -lm_loss_coeff 1 -num_epochs 1 -mask_prob 0.1 -n_gpus 8 -sequences_per_image 8 -nsp_loss_coeff 1 -num_negative_samples 1 -visdial_tot_rounds 11 -visdom_env debugvisdial_batch_128_lr_4e-05_ilr_2e-05_bm_1_lmcoeff_1_nspcoeff_1_maskprob_0.1_spi_8_tot_rnds_11_job -save_name 01-Jan-20-18:35:47-Weddebugvisdial_batch_128_lr_4e-05_ilr_2e-05_bm_1_lmcoeff_1_nspcoeff_1_maskprob_0.1_spi_8_tot_rnds_11_job
Setting up a new session...
Traceback (most recent call last):
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/util/connection.py", line 84, in create_connection
    raise err
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/util/connection.py", line 74, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/http/client.py", line 1254, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/http/client.py", line 1300, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/http/client.py", line 1249, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/http/client.py", line 1036, in _send_output
    self.send(msg)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/http/client.py", line 974, in send
    self.connect()
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/connection.py", line 184, in connect
    conn = self._new_conn()
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/connection.py", line 169, in _new_conn
    self, "Failed to establish a new connection: %s" % e
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f7e880d7f28>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/util/retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='asimo.cc.gatech.edu', port=7676): Max retries exceeded with url: /env/debugvisdial_batch_128_lr_4e-05_ilr_2e-05_bm_1_lmcoeff_1_nspcoeff_1_maskprob_0.1_spi_8_tot_rnds_11_job (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7e880d7f28>: Failed to establish a new connection: [Errno 111] Connection refused',))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/visdom/__init__.py", line 711, in _send
    data=json.dumps(msg),
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/visdom/__init__.py", line 677, in _handle_post
    r = self.session.post(url, data=data)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/requests/sessions.py", line 581, in post
    return self.request('POST', url, data=data, json=json, **kwargs)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/requests/adapters.py", line 516, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='asimo.cc.gatech.edu', port=7676): Max retries exceeded with url: /env/debugvisdial_batch_128_lr_4e-05_ilr_2e-05_bm_1_lmcoeff_1_nspcoeff_1_maskprob_0.1_spi_8_tot_rnds_11_job (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7e880d7f28>: Failed to establish a new connection: [Errno 111] Connection refused',))
[Errno 111] Connection refused
Traceback (most recent call last):
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/util/connection.py", line 84, in create_connection
    raise err
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/util/connection.py", line 74, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/http/client.py", line 1254, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/http/client.py", line 1300, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/http/client.py", line 1249, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/http/client.py", line 1036, in _send_output
    self.send(msg)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/http/client.py", line 974, in send
    self.connect()
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/connection.py", line 184, in connect
    conn = self._new_conn()
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/connection.py", line 169, in _new_conn
    self, "Failed to establish a new connection: %s" % e
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f7e877ac860>: Failed to establish a new connection: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/urllib3/util/retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='asimo.cc.gatech.edu', port=7676): Max retries exceeded with url: /events (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7e877ac860>: Failed to establish a new connection: [Errno 111] Connection refused',))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/visdom/__init__.py", line 711, in _send
    data=json.dumps(msg),
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/visdom/__init__.py", line 677, in _handle_post
    r = self.session.post(url, data=data)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/requests/sessions.py", line 581, in post
    return self.request('POST', url, data=data, json=json, **kwargs)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/requests/adapters.py", line 516, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='asimo.cc.gatech.edu', port=7676): Max retries exceeded with url: /events (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7e877ac860>: Failed to establish a new connection: [Errno 111] Connection refused',))
/nethome/halamri3/visdial-bert/utils/data_utils.py:10: UserWarning: torch.range is deprecated in favor of torch.arange and will be removed in 0.5. Note that arange generates values in [start; end), not [start; end].
  seq_range = torch.range(0, max_len - 1).long()
/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/torch/nn/parallel/_functions.py:61: UserWarning: Was asked to gather along dimension 0, but all input tensors were scalars; will instead unsqueeze and return a vector.
  warnings.warn('Was asked to gather along dimension 0, but all '
Traceback (most recent call last):
  File "train_language_only_baseline.py", line 263, in <module>
    loss.backward()        
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/torch/tensor.py", line 166, in backward
    torch.autograd.backward(self, gradient, retain_graph, create_graph)
  File "/nethome/halamri3/anaconda_3/envs/vilbert/lib/python3.6/site-packages/torch/autograd/__init__.py", line 99, in backward
    allow_unreachable=True)  # allow_unreachable flag
RuntimeError: CUDA out of memory. Tried to allocate 478.00 MiB (GPU 7; 11.91 GiB total capacity; 7.03 GiB already allocated; 117.06 MiB free; 474.46 MiB cached)
